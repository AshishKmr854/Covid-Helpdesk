<div class="container-fluid">
    <h1>Book Your Vaccination</h1>
    <form #userForm="ngForm" *ngIf="!submitted"(ngSubmit)="onSubmit()" novalidate>
        <div class="form-group">
            <label>Father's Name</label>
            <input type="text" required #fname="ngModel" class="form-control" [class.is-invalid]="name.invalid && name.touched" name="userfName" ngModel placeholder="Father's name">
            <small class="text-danger" [class.d-none]="fname.valid || fname.untouched">Father's Name is required</small>
        </div>
        
        <div class="form-group">
            <label>Name</label>
            <input type="text" required #name="ngModel" class="form-control" [class.is-invalid]="name.invalid && name.touched" name="userName" ngModel placeholder="Name">
            <small class="text-danger" [class.d-none]="name.valid || name.untouched">Name is required</small>
        </div>
        
        <div class="form-group">
            <label>Email</label>
            <input type="email" #mail="ngModel" class="form-control" [class.is-invalid]="mail.invalid && mail.touched"name="email" ngModel [pattern]="emailRegex" required placeholder="Email ID">
            <small class="text-danger"[class.d-none]="mail.valid || mail.untouched">Invalid email address.</small>
        </div>
        
        <div class="form-group">
            <label>Phone</label>
            <input type="tel"  class="form-control" #phone="ngModel" pattern="^\d{10}$" required  [class.is-invalid]="phone.invalid && phone.touched" name="phone"ngModel placeholder="Phone Number">
            <small class="text-danger"[class.d-none]="phone.valid || phone.untouched">Phone number is required and must be 10 digits</small>
            
        </div>
        <label>Choose Your Vaccination Center</label>
        <div class="form-group">
            
            <select (blur)="validateTopic(topic.value)" (change)="validateTopic(topic.value)"  #topic="ngModel" [class.is-invalid]="topicHasError && topic.touched"class="form-select" name="topic"ngModel>
                <option value="default">Select</option>
                <option *ngFor="let topic of topics">{{topic}}</option>
                </select>
                <small class="text-danger" [class.d-none]="!topicHasError || topic.untouched">Plaese choose a topic </small>
            </div>


            
        
        <div class="mb-3">
         <label>Time Preference</label>
         <div class="form-check">
             <input class="form-check-input"  ngModel type="radio" name="timePreference" value="morning">
             <label class="form-check-label">Morning (9AM-12PM)</label>
         </div>
         <div class="form-check">
             <input class="form-check-input"  ngModel type="radio" name="timePreference" value="Afternoon">
             <label class="form-check-label">AfterNoon (1PM-5PM)</label>
         </div>
        </div>

       

        <button [disabled]="userForm.form.invalid || topicHasError"class="btn btn-primary">Submit</button>
    </form>
</div>